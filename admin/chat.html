<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Admin Customer Support</title>
    <link href="https://maxcdn.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css" rel="stylesheet">
    <link rel="stylesheet" href="css/chat.css">
    <link rel="stylesheet" href="css/dashboard.css">
    <link rel="stylesheet" href="css/header.css">
</head>
<body>

    <header class="navbar navbar-expand-lg navbar-light bg-ffaa33">
        <div class="container justify-content-center">
            <ul class="navbar-nav">
                <li class="nav-item">
                    <a class="nav-link text-white" href="dashboard.html">Dashboard</a>
                </li>
                <li class="nav-item">
                    <a class="nav-link text-white" href="new_attractions.html">Add New Attraction</a>
                </li>
                <li class="nav-item">
                    <a class="nav-link text-white" href="chat.html">Admin Chat</a>
                </li>
                <li class="nav-item">
                    <a class="nav-link text-white" href="promotion.html">Promotion</a>
                </li>
                <li class="nav-item">
                    <a class="nav-link text-white" href="coins_reward.html">Coins Reward</a>
                </li>
                <li class="nav-item">
                    <a class="nav-link text-white" href="analytics.html">Sales Analytics</a>
                </li>
                <li class="nav-item">
                    <a class="nav-link text-white" href="login.html">Logout</a>
                </li>
            </ul>
        </div>
    </header>

    <div class="container mt-4">
        <h2>Admin Customer Support</h2>

        <!-- Navigation Tabs -->
        <ul class="nav nav-tabs mt-3" id="chatTabs">
            <li class="nav-item">
                <a class="nav-link active" id="ongoing-tab" href="#" onclick="showOngoingChats()">Ongoing Chats</a>
            </li>
            <li class="nav-item">
                <a class="nav-link" id="closed-tab" href="#" onclick="showClosedChats()">Closed Chats</a>
            </li>
        </ul>

        <!-- Ongoing Chats Section -->
        <div id="ongoing-chats-section" class="mt-3">
            <div class="card">
                <div class="card-header bg-custom">
                    <h4>Ongoing Chats</h4>
                </div>
                <div class="card-body">
                    <div id="ongoing-chats" class="mt-3">
                        <!-- List of ongoing chats will be displayed here -->
                    </div>
                </div>
            </div>
        </div>

        <!-- Closed Chats Section -->
        <div id="closed-chats-section" class="mt-3 d-none">
            <div class="card">
                <div class="card-header bg-custom">
                    <h4>Closed Chats</h4>
                </div>
                <div class="card-body">
                    <div id="closed-chats" class="mt-3">
                        <!-- List of closed chats will be displayed here -->
                    </div>
                </div>
            </div>
        </div>

        <!-- Chat Window -->
        <div class="mt-4" id="chat-window" style="display: none;">
            <h4>Chat with User</h4>
            <div id="chat-messages" class="chat-box">
                <!-- Chat messages will be displayed here -->
            </div>
            <div id="chat-input-section">
                <textarea id="adminMessage" class="form-control mt-3" rows="2" placeholder="Type your message..."></textarea>
            </div>
            <div class="mt-2">
                <button class="btn btn-warning" id="sendAdminMessage">Send</button>
                <button class="btn btn-danger" id="closeTicket">Close Ticket</button>
            </div>
        </div>
    </div>

    <!-- Include Firebase SDK -->
    <script src="https://www.gstatic.com/firebasejs/8.7.1/firebase-app.js"></script>
    <script src="https://www.gstatic.com/firebasejs/8.7.1/firebase-firestore.js"></script>
    <script src="https://www.gstatic.com/firebasejs/8.10.0/firebase-auth.js"></script>
    <script src="js/chat.js"></script>
</body>
</html>
